# ?? v1.8.0 - Complete Weight System Implementation

## ?? Полностью Реализованная Система Веса!

**Теперь inventory system имеет полноценный weight management!**

---

## ?? Что Реализовано

### ? 1. Weight Properties

```cpp
// ItemDataAsset
UPROPERTY(EditAnywhere, BlueprintReadOnly, Category = "Item|Stacking")
float ItemWeight = 0.0f;

// InventoryComponent
UPROPERTY(EditAnywhere, BlueprintReadWrite, Category = "Inventory|Configuration")
float MaxWeightCapacity = 0.0f; // 0 = unlimited
```

---

### ? 2. Weight Calculation Functions

```cpp
// Get total weight of all items
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
float GetTotalWeight() const;

// Get remaining capacity
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
float GetRemainingWeightCapacity() const;

// Get weight percentage (0.0 - 1.0)
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
float GetWeightPercentage() const;

// Check if can add weight
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
bool CanAddWeight(float AdditionalWeight) const;

// Check if overweight
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
bool IsOverweight() const;

// Get specific item weight
UFUNCTION(BlueprintPure, Category = "Inventory|Weight")
static float GetItemWeight(UItemDataAsset* ItemData, int32 Quantity = 1);
```

---

### ? 3. Automatic Weight Validation

**Weight проверяется автоматически при:**
- `CanAddItem()` - Проверка перед добавлением
- `AddItem()` - Блокировка если превышен лимит

---

### ? 4. Weight Change Events

```cpp
UPROPERTY(BlueprintAssignable, Category = "Inventory|Events")
FOnInventoryWeightChanged OnWeightChanged; // (CurrentWeight, MaxWeight)
```

**Вызывается автоматически** при любом изменении inventory!

---

## ?? Как Использовать

### Setup 1: Configure Item Weights

**ItemDataAsset:**
```
Item | Stacking:
??? Item Weight = 0.5
```

**Examples:**
- Coin: 0.01
- Arrow: 0.05
- Potion: 0.5
- Sword: 2.0
- Armor: 15.0

---

### Setup 2: Set Weight Limit

**InventoryComponent:**
```
Inventory | Configuration:
??? Max Weight Capacity = 100.0
```

**0.0 = unlimited weight (disabled)**

---

**Version:** 1.8.0  
**Status:** ? Production Ready
