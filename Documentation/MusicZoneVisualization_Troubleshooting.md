# ?? Как ГАРАНТИРОВАННО увидеть MusicZoneVolume в редакторе

## ? Проблема: "Ничего не вижу в редакторе"

Вы правильно заметили - стандартная визуализация не всегда работает сразу. Вот **пошаговое решение**:

---

## ? РЕШЕНИЕ 1: Включить отображение Volumes (САМОЕ ПРОСТОЕ)

### Шаг 1: Откройте вьюпорт

1. Убедитесь, что вы находитесь в **Perspective** вьюпорте (не Top/Front/Side)
2. Кликните на вьюпорте, чтобы он был активным

### Шаг 2: Включите Volumes

**Способ A: Через меню Show**

1. В **левом верхнем углу вьюпорта** найдите кнопку **"Show"** (иконка глаза)
2. Кликните на неё
3. В выпадающем меню найдите **"Volumes"**
4. ? **Поставьте галочку** напротив `Volumes`

**Способ B: Через консоль**

1. Нажмите **`** (тильда) для открытия консоли
2. Введите:
   ```
   show VOLUMES
   ```
3. Нажмите Enter

**Результат:** Вы сразу увидите все Volume актеры в виде полупрозрачных цветных box'ов!

---

## ? РЕШЕНИЕ 2: Debug визуализация (С ПОДРОБНОЙ ИНФОРМАЦИЕЙ)

### Требования:
- Volume должен быть размещен на уровне
- Редактор должен быть **в режиме Editor** (не Play)
- **PrimaryActorTick.bCanEverTick = true** (уже установлено)

### Что вы увидите:

1. **Цветной box** вокруг зоны (толщина линий: 5px)
2. **Текст** над зоной:
   ```
 ?? BP_MusicZone_Town
   Priority: 10
   Town_Theme_Music
   ? Active
   ```
3. **Сфера** в центре (размер зависит от приоритета)
4. **Стрелка** вверх для лучшей видимости

### Цветовая кодировка:

| Состояние | Цвет | Значение |
|-----------|------|----------|
| **Активна + музыка** | ?? Зеленый | Зона готова к работе |
| **Активна, нет музыки** | ?? Желтый | Нужно назначить музыку |
| **Неактивна** | ?? Красный | bIsActive = false |

---

## ? РЕШЕНИЕ 3: Если ничего не помогает

### Проблема: Volume невидим в Outliner

**Решение:**

1. **World Outliner** ? вверху справа кнопка **"?? Settings"**
2. Убедитесь, что включено:
   - ? Show Only Selected
   - ? Show Volumes

### Проблема: Volume есть, но не рисуется

**Проверьте:**

1. **Выберите Volume** в Outliner
2. **Details Panel** ? ищите **"Rendering"**
3. Убедитесь:
   - ? `Actor Hidden in Game` = **false**
   - ? `Hidden in Game` = **false**

### Проблема: Volume слишком маленький

**Решение:**

1. Выберите Volume
2. Нажмите **R** (Scale tool)
3. Масштабируйте зону до нужного размера
4. Или вручную в Details: **Transform ? Scale**

---

## ?? Пошаговая инструкция (с нуля)

### 1. Создайте Blueprint зоны

```
Content Browser ? ПКМ ? Blueprint Class
?? Найдите: MusicZoneVolume
?? Создайте: BP_MusicZone_Test
```

### 2. Настройте зону

Откройте `BP_MusicZone_Test`:

```
Details Panel:
?? Zone Music: [Ваш аудио asset]
?? Priority: 10
?? Transition Type: Crossfade
?? Crossfade Duration: 2.0
?? Volume Multiplier: 1.0
?? Is Active: ? true
?? Show Debug Info: ? true (опционально)
```

### 3. Разместите на уровне

```
1. Перетащите BP_MusicZone_Test на уровень
2. Масштабируйте (R) до нужного размера
3. Позиционируйте (W) в нужном месте
```

### 4. Включите визуализацию

**Вариант A: Show ? Volumes** (рекомендуется)

**Вариант B: Консоль**
```
show VOLUMES
```

### 5. Проверьте результат

Вы должны видеть:
- ? Цветной box вокруг зоны
- ? Текст с информацией
- ? Сферу в центре
- ? Стрелку вверх

---

## ?? Дополнительные настройки визуализации

### Изменить цвет зоны

**В редакторе:**

1. Выберите Volume
2. Details ? **Brush Settings**
3. **Brush Color** ? выберите цвет
4. **Colored** ? ? true

**Автоматически** (зависит от приоритета):
- Priority 0-20: ?? Светло-голубой
- Priority 21-50: ?? Голубой
- Priority 51-80: ?? Фиолетовый
- Priority 81-100: ?? Темно-фиолетовый

### Изменить размер зоны

**Способ 1: Scale Tool**
1. Выберите Volume
2. Нажмите **R**
3. Перетаскивайте ручки

**Способ 2: Brush Editing**
1. Выберите Volume
2. **Modes Panel** ? **Brush Editing**
3. Перетаскивайте вершины вручную

**Способ 3: Manual**
1. Details ? Transform
2. **Scale**: (X, Y, Z)

---

## ?? Troubleshooting (Решение проблем)

### Проблема: "Вижу только стандартный Volume, без debug информации"

**Причина:** Tick не выполняется

**Решение:**

1. Выберите Volume в Outliner
2. Details ? **Actor Tick**
3. Убедитесь:
   - ? `Start with Tick Enabled` = **true**
   - ? `Tick Enabled` = **true**

### Проблема: "Volume мигает/исчезает"

**Причина:** Слишком далеко от камеры

**Решение:**

1. Приблизьте камеру к зоне
2. Или увеличьте зону (Scale)

### Проблема: "Линии слишком тонкие"

**Решение:** Уже исправлено в коде!

- Box: толщина **5.0f**
- Сфера: толщина **3.0f**
- Стрелка: толщина **5.0f**

### Проблема: "Не вижу текст"

**Решение:**

1. Приблизьте камеру
2. Текст рисуется на высоте `BoxExtent.Z + 100.0f`
3. Если зона очень маленькая - текст может быть слишком высоко

---

## ?? Быстрый тест визуализации

Выполните этот тест, чтобы убедиться, что все работает:

### Тест 1: Базовая видимость

```
1. Создайте BP_MusicZone_Test
2. Разместите на уровне
3. Включите: Show ? Volumes
4. Результат: Видите голубой box ?
```

### Тест 2: Debug визуализация

```
1. Выберите зону в Outliner
2. Подождите 1 секунду
3. Результат: Видите текст и стрелку ?
```

### Тест 3: Изменение приоритета

```
1. Details ? Priority: измените на 50
2. Нажмите Enter
3. Результат: Цвет зоны изменился ?
```

### Тест 4: Деактивация зоны

```
1. Details ? Is Active: снимите галочку
2. Результат: Зона стала красной ?
```

---

## ?? Как должно выглядеть (текстовая схема)

```
           ?? BP_MusicZone_Test
      Priority: 10
            Town_Theme_Music
      ? Active
           ?
    ? (Стрелка)
  ?
        ?????????????????????????
        ?    ?   ?
  ? ?           ?  ? Сфера (размер = Priority)
        ?      (Зеленый box)   ?
   ?          ?
        ????????????????????????
```

---

## ?? Консольные команды для отладки

Откройте консоль (**`** тильда) и попробуйте:

```cpp
// Показать Volumes
show VOLUMES

// Показать все collision
show COLLISION

// Показать bounds
show BOUNDS

// Отладка музыкальной системы
Music.Debug

// Показать все категории Show
showflags

// Сбросить все Show настройки
showflags.reset
```

---

## ? Дополнительные советы

### Совет 1: Используйте разные цвета для разных зон

```
BP_MusicZone_Town    ? Priority 10  ? Голубой
BP_MusicZone_Battle  ? Priority 50  ? Фиолетовый
BP_MusicZone_Boss    ? Priority 100 ? Темно-фиолетовый
```

### Совет 2: Создайте "тестовую" зону

```
Name: BP_MusicZone_DEBUG
Priority: 1
Zone Music: (любой)
Transform ? Scale: (10, 10, 10) ? БОЛЬШАЯ!
Brush Color: (255, 0, 255) ? Яркий розовый
```

Эту зону **невозможно** не заметить!

### Совет 3: Используйте слои

```
Window ? Layers
?? Создайте слой "MusicZones"
?? Добавьте все зоны в этот слой
?? Легко показать/скрыть все зоны разом
```

---

## ?? Полезные ссылки

### Официальная документация UE:

- **Volumes**: https://docs.unrealengine.com/en-US/volumes-in-unreal-engine/
- **Show Flags**: https://docs.unrealengine.com/en-US/show-flags-in-unreal-engine/
- **Debug Drawing**: https://docs.unrealengine.com/en-US/API/Runtime/Engine/DrawDebugHelpers/

### Видео туториалы:

- Unreal Engine Volumes Tutorial
- Debug Visualization in UE5
- Working with Show Flags

---

## ?? Итого: Что делать, если НИЧЕГО не видите

### Чек-лист (по порядку):

1. ? **Show ? Volumes** включено?
2. ? Volume размещен на уровне?
3. ? Volume не скрыт (Actor Hidden = false)?
4. ? Камера близко к зоне?
5. ? Вьюпорт активен (кликнули на него)?
6. ? Не в Play Mode (нажмите Esc если запущено)?
7. ? Tick Enabled = true?
8. ? Перезапустили редактор?

Если **ВСЕ** пункты выполнены, а ничего не видно:

```
Финальное решение:
1. Закройте редактор
2. Удалите папку: Saved/
3. Удалите папку: Intermediate/
4. ПКМ на .uproject ? Generate Visual Studio project files
5. Скомпилируйте проект заново
6. Запустите редактор
```

---

**После этого зоны ГАРАНТИРОВАННО будут видны!** ???

**Дата создания:** 23 октября 2025  
**Версия:** 2.0 (Исправлена визуализация)
